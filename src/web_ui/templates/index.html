<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Syndicate - Argmax Prediction System</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <nav class="navbar">
        <div class="nav-brand">
            <h1>‚ö° Syndicate</h1>
            <p class="tagline">Argmax Prediction System</p>
        </div>
        <div class="nav-links">
            <a href="/" class="active">Home</a>
            <a href="/dashboard">Dashboard</a>
            <a href="/system">System Monitor</a>
        </div>
    </nav>

    <main class="container">
        <section class="hero">
            <h2>Welcome to Syndicate</h2>
            <p>A modular prediction system based on the universal argmax equation</p>
            <div class="hero-equation">
                $$\hat{x} = \arg\max_{x \in \mathcal{C}} S(x \mid c)$$
            </div>
        </section>

        <section class="features">
            <div class="feature-card">
                <div class="feature-icon">üìä</div>
                <h3>Multi-Source Data</h3>
                <p>Ingests data from FRED, Yahoo Finance, Binance, and more</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">üßÆ</div>
                <h3>Pure NumPy</h3>
                <p>No modern ML frameworks - legacy-first approach</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">üìà</div>
                <h3>Real-time Predictions</h3>
                <p>Live argmax predictions with confidence scores</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">‚ö†Ô∏è</div>
                <h3>Risk Management</h3>
                <p>VaR, CVaR, and Kelly criterion position sizing</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">üîÑ</div>
                <h3>Event-Driven</h3>
                <p>Modular architecture with pub-sub messaging</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">üí°</div>
                <h3>Continuous Learning</h3>
                <p>Drift detection and feedback processing</p>
            </div>
        </section>

        <section class="quick-stats">
            <h3>System Overview</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="totalPredictions">-</div>
                    <div class="stat-label">Total Predictions</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="accuracy">-</div>
                    <div class="stat-label">Accuracy</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="systemHealth">-</div>
                    <div class="stat-label">System Health</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="activeModules">-</div>
                    <div class="stat-label">Active Modules</div>
                </div>
            </div>
        </section>

        <section class="cta">
            <a href="/dashboard" class="btn btn-primary">Go to Dashboard ‚Üí</a>
            <a href="/system" class="btn btn-secondary">System Monitor</a>
        </section>
    </main>

    <footer>
        <p>Syndicate Argmax Prediction System | Built with Flask + Vanilla JS | Legacy Computing Principles</p>
    </footer>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script>
        // Load quick stats
        fetch('/api/system/status')
            .then(res => res.json())
            .then(data => {
                if (data.success) {
                    document.getElementById('systemHealth').textContent = 
                        data.status.system_health.toUpperCase();
                    document.getElementById('activeModules').textContent = 
                        data.status.modules.status_counts.running || 0;
                }
            });
        
        fetch('/api/prediction/accuracy')
            .then(res => res.json())
            .then(data => {
                if (data.success) {
                    document.getElementById('accuracy').textContent = 
                        data.metrics.accuracy.toFixed(1) + '%';
                    document.getElementById('totalPredictions').textContent = 
                        data.metrics.total_predictions;
                }
            });
    </script>
</body>
</html>
